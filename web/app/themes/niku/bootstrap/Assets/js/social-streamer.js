// Dribbble Portfolio
!function(a){a.fn.ballboy=function(e){a.fn.ballboy.settings=a.extend({},a.fn.ballboy.defaults,e);var n=a.fn.ballboy.settings;if(!n.player||"string"!=typeof n.player&&"number"!=typeof n.player)throw new TypeError("Required setting 'player' must be a string or a number.");if(n.per_page=parseInt(n.per_page),(n.per_page>30||n.per_page<1)&&(n.per_page=30),n.page=parseInt(n.page),n.favorites)var t="/likes";else var t="";return n.url="http://api.dribbble.com/players/"+n.player+"/shots"+t+"?page="+n.page+"&per_page="+n.per_page+"&callback=?",this.each(function(){var e=a(this).addClass("ballboy-container");"function"==typeof n.begin&&n.begin(e);var t=a.ajax({crossDomain:!0,url:n.url,dataType:"jsonp"});"function"==typeof n.always&&t.always(n.always),"function"==typeof n.fail&&t.fail(n.fail),"function"==typeof n.done&&t.done(n.done),t.done(function(t,i,o){if(200!=o.status||t.message&&404==t.message[0])return n.fail(t),!1;e.attr({"data-page":t.page,"data-pages":t.pages}),e.find(".ballboy-pagination").remove();var s=a.fn.ballboy.pagination(t.pages,t.page);e.find(".ballboy-pagination .disabled").removeClass("disabled"),parseInt(t.page)>=parseInt(t.pages)&&(t.page=t.pages,e.find(".ballboy-pagination-next").addClass("disabled")),parseInt(t.page)<=1&&(t.page=1,e.find(".ballboy-pagination-previous").addClass("disabled")),e.empty(),a.each(t.shots,function(a,t){e.append(n.format(t))}),e.append(s),n.bindPaginationEvents&&(e.find(".ballboy-pagination-previous:not(.disabled)").one("click",function(){n.page=parseInt(t.page)-1,e.ballboy(n)}),e.find(".ballboy-pagination-page").one("click",function(){n.page=a(this).attr("data-page"),e.ballboy(n)}),e.find(".ballboy-pagination-next:not(.disabled)").one("click",function(){n.page=parseInt(t.page)+1,e.ballboy(n)})),"function"==typeof n.finished&&n.finished(t)})})},a.fn.ballboy.format=function(e){var n='<div class="'+a.fn.ballboy.settings.shotClass+'" data-id="'+e.id+'">';return n+='<div class="ballboy-shot-image" data-src="'+e.image_url+'" data-teaser-src="'+e.image_teaser_url+'">',n+='<a href="'+e.url+'">',n+=a.fn.ballboy.settings.retina?'<img src="'+e.image_url+'" />':'<img src="'+e.image_teaser_url+'" />',n+="</a>",n+='<a href="'+e.url+'" class="ballboy-shot-image-description">',n+="<h3>"+e.title+"</h3>",n+="</a>",n+="</div>",n+='<div class="ballboy-shot-extras">',parseInt(e.rebounds_count)>0&&(n+='<span class="ballboy-shot-rebound-marker"></span>'),n+='<span class="ballboy-shot-view-count" data-view-count="'+e.views_count+'"></span>',n+='<span class="ballboy-shot-comment-count" data-comment-count="'+e.comments_count+'"></span>',n+='<span class="ballboy-shot-like-count" data-like-count="'+e.likes_count+'"></span>',n+="</div>",n+="</div>",a.parseHTML(n)},a.fn.ballboy.pagination=function(e,n){var t='<div class="ballboy-pagination" data-current-page="'+n+'">';t+='<a class="ballboy-pagination-previous">'+a.fn.ballboy.settings.paginationPreviousText+"</a>";for(var i="",o=1;e>=o;o++)i=o==n?" ballboy-pagination-current":"",t+='<a class="ballboy-pagination-page'+i+'" data-page="'+o+'">',a.fn.ballboy.settings.showPaginationPages&&(t+=o),t+="</a>";return t+='<a class="ballboy-pagination-next">'+a.fn.ballboy.settings.paginationNextText+"</a>",t+="</div>",a.parseHTML(t)},a.fn.ballboy.defaults={format:a.fn.ballboy.format,favorites:!1,page:1,per_page:15,retina:!1,shotClass:"ballboy-shot",bindPaginationEvents:!0,showPaginationControls:!0,showPaginationPages:!1,paginationPreviousText:"Previous",paginationNextText:"Next"}}(jQuery);

