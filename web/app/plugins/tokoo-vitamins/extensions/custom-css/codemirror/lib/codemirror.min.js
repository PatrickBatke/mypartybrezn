var CodeMirror=function(){function p(a,b){function c(f){return 0<=f&&f<r.size}function d(f){for(var a=r;!a.lines;)for(var k=0;;++k){var b=a.children[k],x=b.chunkSize();if(f<x){a=b;break}f-=x}return a.lines[f]}function e(f,a){ja=!0;for(var k=a-f.height,b=f;b;b=b.parent)b.height+=k}function g(f){var a={line:0,ch:0};M(a,{line:r.size-1,ch:d(r.size-1).text.length},Oa(f),a,a);na=!0}function h(){if(db!=w.scrollTop||ic!=q.scrollLeft)if(db=w.scrollTop,ic=q.scrollLeft,za([]),l.fixedGutter&&(T.style.left=q.scrollLeft+
"px"),l.onScroll)l.onScroll(C)}function N(f){if(!l.onDragEvent||!l.onDragEvent(C,Pa(f))){f.preventDefault();var a=Ha(f,!0),k=f.dataTransfer.files;if(a&&!l.readOnly)if(k&&k.length&&window.FileReader&&window.File){f=function(f,k){var d=new FileReader;d.onload=function(){x[k]=d.result;++c==b&&(a=A(a),n(function(){var f=O(x.join(""),a,a);oa(a,f)})())};d.readAsText(f)};for(var b=k.length,x=Array(b),c=0,d=0;d<b;++d)f(k[d],d)}else if(!eb||S(a,j.from)||S(j.to,a))try{(x=f.dataTransfer.getData("Text"))&&jc(function(){var f=
j.from,k=j.to;oa(a,a);eb&&O("",f,k);ca(x);D()})}catch(e){}}}function I(f){var a=fb();f.dataTransfer.setData("Text",a);if(Qa||kc||Aa)a=document.createElement("img"),a.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=",f.dataTransfer.setDragImage(a,0,0)}function t(f,a){if("string"==typeof f&&(f=lc[f],!f))return!1;var k=ea;try{l.readOnly&&(gb=!0),a&&(ea=null),f(C)}catch(b){if(b!=Cb)throw b;return!1}finally{ea=k,gb=!1}return!0}function mc(f){function a(){c=!0}var k=Db(l.keyMap),
b=k.auto;clearTimeout(nc);var x;if(x=b)x=Ba[E(f,"keyCode")],x=!("Ctrl"==x||"Alt"==x||"Shift"==x||"Mod"==x);x&&(nc=setTimeout(function(){Db(l.keyMap)==k&&(l.keyMap=b.call?b.call(null,C):b)},50));x=Ba[E(f,"keyCode")];var d=!1;if(null==x||f.altGraphKey)return!1;E(f,"altKey")&&(x="Alt-"+x);E(f,"ctrlKey")&&(x="Ctrl-"+x);E(f,"metaKey")&&(x="Cmd-"+x);var c=!1,d=E(f,"shiftKey")?hb("Shift-"+x,l.extraKeys,l.keyMap,function(f){return t(f,!0)},a)||hb(x,l.extraKeys,l.keyMap,function(f){if("string"==typeof f&&
/^go[A-Z]/.test(f))return t(f)},a):hb(x,l.extraKeys,l.keyMap,t,a);c&&(d=!1);d&&(F(f),ib(),Ca&&(f.oldKeyCode=f.keyCode,f.keyCode=0));return d}function ia(f){fa||P();Ca&&27==f.keyCode&&(f.returnValue=!1);Ia&&jb()&&(Ia=!1);if(!l.onKeyEvent||!l.onKeyEvent(C,Pa(f))){var a=E(f,"keyCode");cb(16==a||E(f,"shiftKey"));var k=mc(f);Aa&&(Eb=k?a:null,!k&&(88==a&&E(f,Fb?"metaKey":"ctrlKey"))&&ca(""))}}function P(){if("nocursor"!=l.readOnly){if(!fa){if(l.onFocus)l.onFocus(C);fa=!0;-1==q.className.search(/\bCodeMirror-focused\b/)&&
(q.className+=" CodeMirror-focused");Ra||kb(!0)}lb();ib()}}function Q(){if(fa){if(l.onBlur)l.onBlur(C);fa=!1;pa&&n(function(){pa&&(pa(),pa=null)})();q.className=q.className.replace(" CodeMirror-focused","")}clearInterval(Gb);setTimeout(function(){fa||(ea=null)},150)}function oc(f){var a=0,k=0;if("DOMMouseScroll"==f.type){var b=8*-f.detail;f.axis==f.HORIZONTAL_AXIS?a=b:f.axis==f.VERTICAL_AXIS&&(k=b)}else void 0!==f.wheelDeltaX&&void 0!==f.wheelDeltaY?(a=f.wheelDeltaX/3,k=f.wheelDeltaY/3):void 0!==
f.wheelDelta&&(k=f.wheelDelta/3);b=!1;a=0<a&&1>a?1:-1<a&&0>a?-1:Math.round(a);k=0<k&&1>k?1:-1<k&&0>k?-1:Math.round(k);if(0<a&&0<q.scrollLeft||0>a&&q.scrollLeft+q.clientWidth<q.scrollWidth)q.scrollLeft-=a,b=!0;if(0<k&&0<w.scrollTop||0>k&&w.scrollTop+w.clientHeight<w.scrollHeight)w.scrollTop-=k,b=!0;b&&Sa(f)}function M(f,a,k,b,d){if(!gb){if(X){var c=[];r.iter(f.line,a.line+1,function(f){c.push(f.text)});for(X.addChange(f.line,k.length,c);X.done.length>l.undoDepth;)X.done.shift()}Y(f,a,k,b,d)}}function R(f,
a){if(f.length){for(var k=f.pop(),b=[],c=k.length-1;0<=c;c-=1){var e=k[c],j=[],l=e.start+e.added;r.iter(e.start,l,function(f){j.push(f.text)});b.push({start:e.start,added:e.old.length,old:j});var g=e.start+e.old.length-1,h;h=j[j.length-1];var u=e.old[e.old.length-1];if(u)if(h){for(var q=h.length,n=u.length;0<=q&&0<=n&&h.charAt(q)==u.charAt(n);--q,--n);h=n+1}else h=u.length;else h=0;g={line:g,ch:h};Y({line:e.start,ch:0},{line:l-1,ch:d(l-1).text.length},e.old,g,g)}na=!0;a.push(b)}}function Y(f,a,k,
b,c){if(!gb){var Bb=!1,h=ga.length;l.lineWrapping||r.iter(f.line,a.line+1,function(f){if(!f.hidden&&f.text.length==h)return Bb=!0});if(f.line!=a.line||1<k.length)ja=!0;var g=a.line-f.line,s=d(f.line),U=d(a.line);if(0==f.ch&&0==a.ch&&""==k[k.length-1]){var u=[],s=null;f.line?(s=d(f.line-1),s.fixMarkEnds(U)):U.fixMarkStarts();for(var v=0,n=k.length-1;v<n;++v)u.push(qa.inheritMarks(k[v],s));g&&r.remove(f.line,g,Ta);u.length&&r.insert(f.line,u)}else if(s==U)if(1==k.length)s.replace(f.ch,a.ch,k[0]);else{U=
s.split(a.ch,k[k.length-1]);s.replace(f.ch,null,k[0]);s.fixMarkEnds(U);u=[];v=1;for(n=k.length-1;v<n;++v)u.push(qa.inheritMarks(k[v],s));u.push(U);r.insert(f.line+1,u)}else if(1==k.length)s.replace(f.ch,null,k[0]),U.replace(null,a.ch,""),s.append(U),r.remove(f.line+1,g,Ta);else{u=[];s.replace(f.ch,null,k[0]);U.replace(null,a.ch,k[k.length-1]);s.fixMarkEnds(U);v=1;for(n=k.length-1;v<n;++v)u.push(qa.inheritMarks(k[v],s));1<g&&r.remove(f.line+1,g-1,Ta);r.insert(f.line+1,u)}if(l.lineWrapping){var N=Math.max(5,
q.clientWidth/Hb()-3);r.iter(f.line,f.line+k.length,function(f){if(!f.hidden){var a=Math.ceil(f.text.length/N)||1;a!=f.height&&e(f,a)}})}else r.iter(f.line,f.line+k.length,function(f){var a=f.text;!f.hidden&&a.length>h&&(ga=a,h=a.length,Ua=!0,Bb=!1)}),Bb&&(Va=!0);U=[];g=k.length-g-1;v=0;for(u=ka.length;v<u;++v)n=ka[v],n<f.line?U.push(n):n>a.line&&U.push(n+g);var v=f.line+Math.min(k.length,500),u=f.line,p=mb(u);r.iter(u,v,function(f){f.highlight(G,p,l.tabSize);f.stateAfter=Ja(G,p)});U.push(v);ka=U;
Ib(100);ha.push({from:f.line,to:a.line+1,diff:g});f={from:f,to:a,text:k};if(Ka){for(k=Ka;k.next;k=k.next);k.next=f}else Ka=f;Wa(A(b),A(c),j.from.line<=Math.min(a.line,a.line+g)?j.from.line:j.from.line+g,j.to.line<=Math.min(a.line,a.line+g)?j.to.line:j.to.line+g)}}function V(f){var a=ra(),k=Math.floor(r.height*a+2*B.offsetTop),b=q.clientHeight;w.style.height=b+"px";q.clientHeight&&(Qc.style.height=k+"px");null!=f&&(w.scrollTop=f);nb.style.top=Xa*a-w.scrollTop+"px";w.style.display=k>b?"block":"none"}
function O(f,a,k){function b(d){if(S(d,a))return d;if(!S(k,d))return c;var Pc=d.line+f.length-(k.line-a.line)-1,e=d.ch;d.line==k.line&&(e+=f[f.length-1].length-(k.ch-(k.line==a.line?a.ch:0)));return{line:Pc,ch:e}}a=A(a);k=k?A(k):a;f=Oa(f);var c;Z(f,a,k,function(f){c=f;return{from:b(j.from),to:b(j.to)}});return c}function ca(f,a){Z(Oa(f),j.from,j.to,function(f){return"end"==a?{from:f,to:f}:"start"==a?{from:j.from,to:j.from}:{from:j.from,to:f}})}function Z(f,a,k,b){b=b({line:a.line+f.length-1,ch:1==
f.length?f[0].length+a.ch:f[f.length-1].length});M(a,k,f,b.from,b.to)}function pc(f,a){var b=f.line,c=a.line;if(b==c)return d(b).text.slice(f.ch,a.ch);var x=[d(b).text.slice(f.ch)];r.iter(b+1,c,function(f){x.push(f.text)});x.push(d(c).text.slice(0,a.ch));return x.join("\n")}function fb(){return pc(j.from,j.to)}function lb(){Ia||Jb.set(l.pollInterval,function(){Kb();jb();fa&&lb();Lb()})}function H(){function f(){Kb();!jb()&&!a?(a=!0,Jb.set(60,f)):(Ia=!1,lb());Lb()}var a=!1;Ia=!0;Jb.set(20,f)}function jb(){if(Ra||
!fa||Rc(y)||l.readOnly)return!1;var f=y.value;if(f==la)return!1;ea=null;for(var a=0,b=Math.min(la.length,f.length);a<b&&la[a]==f[a];)++a;a<la.length?j.from={line:j.from.line,ch:j.from.ch-(la.length-a)}:ob&&z(j.from,j.to)&&(j.to={line:j.to.line,ch:Math.min(d(j.to.line).text.length,j.to.ch+(f.length-a))});ca(f.slice(a),"end");1E3<f.length?y.value=la="":la=f;return!0}function kb(f){z(j.from,j.to)?f&&(la=y.value=""):(la="",y.value=fb(),qc(y))}function D(){"nocursor"!=l.readOnly&&y.focus()}function rc(){var f=
ba();return ya(f.x,f.y,f.x,f.yBot)}function ba(){var f=ma(j.inverted?j.from:j.to);return{x:l.lineWrapping?Math.min(f.x,B.offsetWidth):f.x,y:f.y,yBot:f.yBot}}function ya(f,a,b,c){f=Fa(f,a,b,c);a=!1;null!=f.scrollLeft&&(q.scrollLeft=f.scrollLeft,a=!0);null!=f.scrollTop&&(w.scrollTop=f.scrollTop,a=!0);if(a&&l.onScroll)l.onScroll(C)}function Fa(f,a,b,c){var d=B.offsetLeft,e=B.offsetTop;a+=e;c+=e;f+=d;b+=d;var g=q.clientHeight,j=w.scrollTop,e={},h=a<B.offsetTop+10;a<j?e.scrollTop=h?0:Math.max(0,a):c>j+
g&&(e.scrollTop=c-g);a=q.clientWidth;c=q.scrollLeft;g=l.fixedGutter?T.clientWidth:0;d=f<g+d+10;f<c+g||d?(d&&(f=0),e.scrollLeft=Math.max(0,f-10-g)):b>a+c-3&&(e.scrollLeft=b+10-a);return e}function Ga(f){var a=ra(),b=(null!=f?f:w.scrollTop)-B.offsetTop;f=Math.max(0,Math.floor(b/a));a=Math.ceil((b+q.clientHeight)/a);return{from:Mb(r,f),to:Mb(r,a)}}function za(f,a,b){function c(){var f=da.firstChild,a=!1;r.iter(J,$,function(b){if(!b.hidden){var k=Math.round(f.offsetHeight/y)||1;b.height!=k&&(e(b,k),ja=
a=!0)}f=f.nextSibling});return a}if(q.clientWidth){var d=Ga(b);if(!0!==f&&0==f.length&&d.from>J&&d.to<$)V(b);else{var g=Math.max(d.from-100,0),d=Math.min(r.size,d.to+100);J<g&&20>g-J&&(g=J);$>d&&20>$-d&&(d=Math.min(r.size,$));if(!0===f)f=[];else{for(var j=[{from:J,to:$,domStart:0}],h=0,s=f.length||0;h<s;++h){for(var n=f[h],u=[],v=n.diff||0,N=0,p=j.length;N<p;++N){var m=j[N];n.to<=m.from&&n.diff?u.push({from:m.from+v,to:m.to+v,domStart:m.domStart}):n.to<=m.from||n.from>=m.to?u.push(m):(n.from>m.from&&
u.push({from:m.from,to:n.from,domStart:m.domStart}),n.to<m.to&&u.push({from:n.to+v,to:m.to+v,domStart:m.domStart+(n.to-m.from)}))}j=u}f=j}for(var H=f,j=f=0;j<H.length;++j)h=H[j],h.from<g&&(h.domStart+=g-h.from,h.from=g),h.to>d&&(h.to=d),h.from>=h.to?H.splice(j--,1):f+=h.to-h.from;if(f==d-g&&g==J&&d==$)V(b);else{H.sort(function(f,a){return f.domStart-a.domStart});var y=ra();f=T.style.display;da.style.display="none";j=g;h=d;if(H.length){for(var s=function(f){var a=f.nextSibling;f.parentNode.removeChild(f);
return a},n=0,I=da.firstChild,u=0;u<H.length;++u){for(v=H[u];v.domStart>n;)I=s(I),n++;for(var D=0,v=v.to-v.from;D<v;++D)I=I.nextSibling,n++}for(;I;)I=s(I)}else da.innerHTML="";var A=H.shift(),I=da.firstChild,D=j,t=document.createElement("div");r.iter(j,h,function(f){A&&A.to==D&&(A=H.shift());if(!A||A.from>D){if(f.hidden)var a=t.innerHTML="<pre></pre>";else a="<pre"+(f.className?' class="'+f.className+'"':"")+">"+f.getHTML(sc)+"</pre>",f.bgClassName&&(a='<div style="position: relative"><pre class="'+
f.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+a+"</div>");t.innerHTML=a;da.insertBefore(t.firstChild,I)}else I=I.nextSibling;++D});da.style.display=T.style.display="";(j=g!=J||d!=$||tc!=q.clientHeight+y)&&(tc=q.clientHeight+y);J=g;$=d;Xa=Nb(r,g);if(da.childNodes.length!=$-J)throw Error("BAD PATCH! "+JSON.stringify(H)+" size="+($-J)+" nodes="+da.childNodes.length);l.lineWrapping&&(Math.floor(r.height*y+2*B.offsetTop)>q.clientHeight&&(w.style.display=
"block"),c());T.style.display=f;(j||ja)&&xa()&&l.lineWrapping&&c()&&xa();Na();V(b);if(!a&&l.onUpdate)l.onUpdate(C);return!0}}}else J=$=Xa=0}function xa(){if(l.gutter||l.lineNumbers){var f=nb.offsetHeight,a=q.clientHeight;T.style.height=(2>f-a?a:f)+"px";var b=[],d=J,c;r.iter(J,Math.max($,J+1),function(f){if(f.hidden)b.push("<pre></pre>");else{var a=f.gutterMarker,K=l.lineNumbers?d+l.firstLineNumber:null;a&&a.text?K=a.text.replace("%N%",null!=K?K:""):null==K&&(K="\u00a0");b.push(a&&a.style?'<pre class="'+
a.style+'">':"<pre>",K);for(K=1;K<f.height;++K)b.push("<br/>&#160;");b.push("</pre>");a||(c=d)}++d});T.style.display="none";Ya.innerHTML=b.join("");if(null!=c&&l.lineNumbers){for(var f=Ya.childNodes[c-J],a=String(r.size).length,e=f.firstChild.textContent||f.firstChild.innerText||f.firstChild.nodeValue||"",g="";e.length+g.length<a;)g+="\u00a0";g&&f.insertBefore(document.createTextNode(g),f.firstChild)}T.style.display="";f=2<Math.abs((parseInt(B.style.marginLeft)||0)-T.offsetWidth);B.style.marginLeft=
T.offsetWidth+"px";ja=!1;return f}}function Na(){var f=z(j.from,j.to),a=ma(j.from,!0),b=f?a:ma(j.to,!0),d=j.inverted?a:b,c=ra(),e=Da(L),g=Da(da);sa.style.top=Math.max(0,Math.min(q.offsetHeight,d.y+g.top-e.top))+"px";sa.style.left=Math.max(0,Math.min(q.offsetWidth,d.x+g.left-e.left))+"px";if(f)aa.style.top=d.y+"px",aa.style.left=(l.lineWrapping?Math.min(d.x,B.offsetWidth):d.x)+"px",aa.style.display="",pb.style.display="none";else{var f=a.y==b.y,h="",n=B.clientWidth||B.offsetWidth,d=B.clientHeight||
B.offsetHeight,e=function(a,f,b,k){h+='<div class="CodeMirror-selected" style="position: absolute; left: '+a+"px; top: "+f+"px; "+(Sc?"width: "+(!b?n:n-b-a)+"px":"right: "+b+"px")+"; height: "+k+'px"></div>'};j.from.ch&&0<=a.y&&e(a.x,a.y,f?n-b.x:0,c);a=Math.max(0,a.y+(j.from.ch?c:0));g=Math.min(b.y,d)-a;g>0.2*c&&e(0,a,0,g);(!f||!j.from.ch)&&b.y<d-0.5*c&&e(0,b.y,n-b.x,c);pb.innerHTML=h;aa.style.display="none";pb.style.display=""}}function cb(a){ea=a?ea||(j.inverted?j.to:j.from):null}function oa(a,
b){var k=ea&&A(ea);k&&(S(k,a)?a=k:S(b,k)&&(b=k));Wa(a,b);qb=!0}function Wa(a,b,k,c){rb=null;null==k&&(k=j.from.line,c=j.to.line);if(!z(j.from,a)||!z(j.to,b)){if(S(b,a)){var e=b;b=a;a=e}a.line!=k&&((k=sb(a,k,j.from.ch))?a=k:Ob(a.line,!1));b.line!=c&&(b=sb(b,c,j.to.ch));z(a,b)?j.inverted=!1:z(a,j.to)?j.inverted=!1:z(b,j.from)&&(j.inverted=!0);if(l.autoClearEmptyLines&&z(j.from,j.to)&&(j.inverted?a:b).line!=j.from.line&&j.from.line<r.size){var g=d(j.from.line);/^\s+$/.test(g.text)&&setTimeout(n(function(){if(g.parent&&
/^\s+$/.test(g.text)){var a=La(g);O("",{line:a,ch:0},{line:a,ch:g.text.length})}},10))}j.from=a;j.to=b;ta=!0}}function sb(a,b,k){function c(b){for(var K=a.line+b,e=1==b?r.size:-1;K!=e;){var x=d(K);if(!x.hidden){b=a.ch;if(g||b>k||b>x.text.length)b=x.text.length;return{line:K,ch:b}}K+=b}}var e=d(a.line),g=a.ch==e.text.length&&a.ch!=k;return!e.hidden?a:a.line>=b?c(1)||c(-1):c(-1)||c(1)}function ua(a,b,k){a=A({line:a,ch:b||0});(k?oa:Wa)(a,a)}function tb(a){return Math.max(0,Math.min(a,r.size-1))}function A(a){if(0>
a.line)return{line:0,ch:0};if(a.line>=r.size)return{line:r.size-1,ch:d(r.size-1).text.length};var b=a.ch,k=d(a.line).text.length;return null==b||b>k?{line:a.line,ch:k}:0>b?{line:a.line,ch:0}:a}function Pb(a,b){function k(b){if(g==(0>a?0:h.text.length)){if(b=!b)a:{b=e+a;for(var k=0>a?-1:r.size;b!=k;b+=a){var c=d(b);if(!c.hidden){e=b;h=c;b=!0;break a}}b=void 0}if(b)g=0>a?h.text.length:0;else return!1}else g+=a;return!0}var c=j.inverted?j.from:j.to,e=c.line,g=c.ch,h=d(e);if("char"==b)k();else if("column"==
b)k(!0);else if("word"==b)for(c=!1;!(0>a)||k();){if(Qb(h.text.charAt(g)))c=!0;else if(c){0>a&&(a=1,k());break}if(0<a&&!k())break}return{line:e,ch:g}}function uc(a){for(var b=d(a.line).text,k=a.ch,c=a.ch;0<k&&Qb(b.charAt(k-1));)--k;for(;c<b.length&&Qb(b.charAt(c));)++c;oa({line:a.line,ch:k},{line:a.line,ch:c})}function ub(a,b){b||(b="add");if("smart"==b)if(G.indent)var k=mb(a);else b="prev";var c=d(a),e=c.indentation(l.tabSize),g=c.text.match(/^\s*/)[0],h;"smart"==b&&(h=G.indent(k,c.text.slice(g.length),
c.text),h==Cb&&(b="prev"));"prev"==b?h=a?d(a-1).indentation(l.tabSize):0:"add"==b?h=e+l.indentUnit:"subtract"==b&&(h=e-l.indentUnit);h=Math.max(0,h);if(h-e){e="";k=0;if(l.indentWithTabs)for(c=Math.floor(h/l.tabSize);c;--c)k+=l.tabSize,e+="\t";for(;k<h;)++k,e+=" "}else{if(j.from.line!=a&&j.to.line!=a)return;e=g}O(e,{line:a,ch:0},{line:a,ch:g.length})}function vc(){G=p.getMode(l,l.mode);r.iter(0,r.size,function(a){a.stateAfter=null});ka=[0];Ib()}function hc(){if(l.lineWrapping){L.className+=" CodeMirror-wrap";
var a=q.clientWidth/Hb()-3;r.iter(0,r.size,function(b){if(!b.hidden){var c=Math.ceil(b.text.length/a)||1;1!=c&&e(b,c)}});B.style.width=va.style.width="";Rb.style.left=""}else L.className=L.className.replace(" CodeMirror-wrap",""),ga="",Ua=!0,r.iter(0,r.size,function(a){1!=a.height&&!a.hidden&&e(a,1);a.text.length>ga.length&&(ga=a.text)});ha.push({from:0,to:r.size})}function sc(a){a=l.tabSize-a%l.tabSize;var b=wc[a];if(b)return b;for(var b='<span class="cm-tab">',c=0;c<a;++c)b+=" ";return wc[a]={html:b+
"</span>",width:a}}function xc(){q.className=q.className.replace(/\s*cm-s-\S+/g,"")+l.theme.replace(/(^|\s)\s*/g," cm-s-")}function yc(){var a=W[l.keyMap].style;L.className=L.className.replace(/\s*cm-keymap-\S+/g,"")+(a?" cm-keymap-"+a:"")}function Sb(){this.set=[]}function Tb(a,b,c){function e(a,f,b,c){d(a).addMark(new vb(f,b,c,g))}a=A(a);b=A(b);var g=new Sb;if(!S(a,b))return g;if(a.line==b.line)e(a.line,a.ch,b.ch,c);else{e(a.line,a.ch,null,c);for(var h=a.line+1,j=b.line;h<j;++h)e(h,null,null,c);
e(b.line,null,b.ch,c)}ha.push({from:a.line,to:b.line+1});return g}function zc(a,b){var c=a,e=a;"number"==typeof a?e=d(tb(a)):c=La(a);if(null!=c&&b(e,c))ha.push({from:c,to:c+1});else return null;return e}function Ob(a,b){return zc(a,function(a,f){if(a.hidden!=b){a.hidden=b;if(!l.lineWrapping){var c=a.text;b&&c.length==ga.length?Va=!0:!b&&c.length>ga.length&&(ga=c,maxWidth=null,Va=!1)}e(a,b?0:1);var d=j.from.line,c=j.to.line;if(b&&(d==f||c==f)){d=d==f?sb({line:d,ch:0},d,0):j.from;c=c==f?sb({line:c,
ch:0},c,0):j.to;if(!c)return;Wa(d,c)}return ja=!0}})}function Ub(a){wa.innerHTML="<pre><span>x</span></pre>";wa.firstChild.firstChild.firstChild.nodeValue=a;return wa.firstChild.firstChild.offsetWidth||10}function Ac(a,b){if(0==b)return{top:0,left:0};var c=l.lineWrapping&&b<a.text.length&&wb.test(a.text.slice(b-1,b+1));wa.innerHTML="<pre>"+a.getHTML(sc,b,Bc,c)+"</pre>";var c=document.getElementById(Bc),d=c.offsetTop,e=c.offsetLeft;Ca&&(0==d&&0==e)&&(d=document.createElement("span"),d.innerHTML="x",
c.parentNode.insertBefore(d,c.nextSibling),d=d.offsetTop);return{top:d,left:e}}function ma(a,b){var c,e=ra(),g=e*(Nb(r,a.line)-(b?Xa:0));if(0==a.ch)c=0;else{var h=Ac(d(a.line),a.ch);c=h.left;l.lineWrapping&&(g+=Math.max(0,h.top))}return{x:c,y:g,yBot:g+e}}function Vb(a,b){function c(a){a=Ac(n,a);if(N){var f=Math.round(a.top/e);return Math.max(0,a.left+(f-u)*q.clientWidth)}return a.left}0>b&&(b=0);var e=ra(),g=Hb(),h=Xa+Math.floor(b/e),j=Mb(r,h);if(j>=r.size)return{line:r.size-1,ch:d(r.size-1).text.length};
var n=d(j),s=n.text,N=l.lineWrapping,u=N?h-Nb(r,j):0;if(0>=a&&0==u)return{line:j,ch:0};for(var v=h=0,s=s.length,m,g=Math.min(s,Math.ceil((a+0.9*u*q.clientWidth)/g));;){var p=c(g);if(p<=a&&g<s)g=Math.min(s,Math.ceil(1.2*g));else{m=p;s=g;break}}if(a>m)return{line:j,ch:s};g=Math.floor(0.8*s);p=c(g);p<a&&(h=g,v=p);for(;;){if(1>=s-h)return{line:j,ch:m-a>a-v?h:s};g=Math.ceil((h+s)/2);p=c(g);p>a?(s=g,m=p):(h=g,v=p)}}function ra(){if(null==Ea){Ea="<pre>";for(var a=0;49>a;++a)Ea+="x<br/>";Ea+="x</pre>"}a=
da.clientHeight;if(a==Cc)return Wb;Cc=a;wa.innerHTML=Ea;Wb=wa.firstChild.offsetHeight/50||1;wa.innerHTML="";return Wb}function Hb(){if(q.clientWidth==Dc)return Ec;Dc=q.clientWidth;return Ec=Ub("x")}function Ha(a,b){var c=Da(q,!0),d,e;try{d=a.clientX,e=a.clientY}catch(g){return null}if(!b&&(d-c.left>q.clientWidth||e-c.top>q.clientHeight))return null;c=Da(B,!0);return Vb(d-c.left,e-c.top)}function Fc(a){function b(){var a=Oa(y.value).join("\n");a!=g&&!l.readOnly&&n(ca)(a,"end");sa.style.position="relative";
y.style.cssText=e;Gc&&(w.scrollTop=d);Ra=!1;kb(!0);lb()}var c=Ha(a),d=w.scrollTop;if(c&&!Aa){(z(j.from,j.to)||S(c,j.from)||!S(c,j.to))&&n(ua)(c.line,c.ch);var e=y.style.cssText;sa.style.position="absolute";y.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";Ra=!0;var g=y.value=fb();D();qc(y);if(Qa){Sa(a);var h=m(window,
"mouseup",function(){h();setTimeout(b,20)},!0)}else setTimeout(b,50)}}function ib(){clearInterval(Gb);var a=!0;aa.style.visibility="";Gb=setInterval(function(){aa.style.visibility=(a=!a)?"":"hidden"},650)}function Hc(a){var b=j.inverted?j.from:j.to,c=d(b.line),e=b.ch-1,g=0<=e&&Xb[c.text.charAt(e)]||Xb[c.text.charAt(++e)];if(g){g.charAt(0);for(var h=(g=">"==g.charAt(1))?1:-1,l=c.styles,q=e+1,s=0,p=l.length;s<p;s+=2)if(0>=(q-=l[s].length)){var u=l[s+1];break}l=[c.text.charAt(e)];q=/[(){}[\]]/;s=b.line;
for(p=g?Math.min(s+100,r.size):Math.max(-1,s-100);s!=p;s+=h){var c=d(s),v=s==b.line,m;a:{m=v&&g?e+1:0;v=v&&!g?e:c.text.length;if(c.text)for(var N=c.styles,c=g?0:c.text.length-1,H=void 0,I=g?0:N.length-2,y=g?N.length:-2;I!=y;I+=2*h){var w=N[I];if(N[I+1]!=u)c+=h*w.length;else for(var D=g?0:w.length-1,A=g?w.length:-1;D!=A;D+=h,c+=h)if(c>=m&&c<v&&q.test(H=w.charAt(D))){var t=Xb[H];if(">"==t.charAt(1)==g)l.push(H);else if(l.pop()!=t.charAt(0)){m={pos:c,match:!1};break a}else if(!l.length){m={pos:c,match:!0};
break a}}}m=void 0}if(m)break}m||(m={pos:null,match:!1});var u=m.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",B=Tb({line:b.line,ch:e},{line:b.line,ch:e+1},u),C=null!=m.pos&&Tb({line:s,ch:m.pos},{line:s,ch:m.pos+1},u),b=n(function(){B.clear();C&&C.clear()});a?setTimeout(b,800):pa=b}}function Ic(a){var b,c,e=a;for(a-=40;e>a;--e){if(0==e)return 0;var g=d(e-1);if(g.stateAfter)return e;g=g.indentation(l.tabSize);if(null==c||b>g)c=e-1,b=g}return c}function mb(a){var b=Ic(a),c=b&&d(b-
1).stateAfter,c=c?Ja(G,c):Yb(G);r.iter(b,a,function(a){a.highlight(G,c,l.tabSize);a.stateAfter=Ja(G,c)});b<a&&ha.push({from:b,to:a});a<r.size&&!d(a).stateAfter&&ka.push(a);return c}function Tc(){for(var a=+new Date+l.workTime,b=ka.length;ka.length;){var c=d(J).stateAfter?ka.pop():J;if(!(c>=r.size)){var e=Ic(c),g=e&&d(e-1).stateAfter,g=g?Ja(G,g):Yb(G),h=0,j=G.compareStates,n=!1,q=e,m=!1;r.iter(q,r.size,function(b){var d=b.stateAfter;if(+new Date>a)return ka.push(q),Ib(l.workDelay),n&&ha.push({from:c,
to:q+1}),m=!0;var e=b.highlight(G,g,l.tabSize);e&&(n=!0);b.stateAfter=Ja(G,g);b=null;if(j){var K=d&&j(d,g);K!=Cb&&(b=!!K)}if(null==b)if(!1!==e||!d)h=0;else if(3<++h&&(!G.indent||G.indent(d,"")==G.indent(g,"")))b=!0;if(b)return!0;++q});if(m)return;n&&ha.push({from:c,to:q+1})}}if(b&&l.onHighlightComplete)l.onHighlightComplete(C)}function Ib(a){ka.length&&Uc.set(a,n(Tc))}function Kb(){na=qb=Ka=null;ha=[];ta=!1;Ta=[]}function Lb(){if(Va){var a=0;ga="";Ua=!0;r.iter(0,r.size,function(b){var c=b.text;!b.hidden&&
c.length>a&&(a=c.length,ga=c)});Va=!1}Ua&&!l.lineWrapping&&(Rb.style.left=Ub(ga)+"px",Ua=!1);var b,c;ta&&(b=ba(),b=Fa(b.x,b.y,b.x,b.yBot));ha.length?c=za(ha,!0,b?b.scrollTop:null):(ta&&Na(),ja&&xa());b&&rc();if(ta){if(aa.getBoundingClientRect&&(b=aa.getBoundingClientRect(),!(Ca&&b.top==b.bottom))){var d=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(0>b.top||b.bottom>d)&&rc()}ib()}fa&&(!Ra&&(!0===na||!1!==na&&ta))&&kb(qb);ta&&l.matchBrackets&&setTimeout(n(function(){pa&&
(pa(),pa=null);z(j.from,j.to)&&Hc(!1)}),20);d=ta;b=Ta;if(Ka&&l.onChange&&C)l.onChange(C,Ka);if(d&&l.onCursorActivity)l.onCursorActivity(C);for(d=0;d<b.length;++d)b[d](C);if(c&&l.onUpdate)l.onUpdate(C)}function n(a){return function(){Jc++||Kb();try{var b=a.apply(this,arguments)}finally{--Jc||Lb()}return b}}function jc(a){X.startCompound();try{return a()}finally{X.endCompound()}}var l={},Zb=p.defaults,Za;for(Za in Zb)Zb.hasOwnProperty(Za)&&(l[Za]=(b&&b.hasOwnProperty(Za)?b:Zb)[Za]);var L=document.createElement("div");
L.className="CodeMirror"+(l.lineWrapping?" CodeMirror-wrap":"");L.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scrollbar"><div class="CodeMirror-scrollbar-inner"></div></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><pre class="CodeMirror-cursor" style="visibility: hidden">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';
a.appendChild?a.appendChild(L):a(L);var sa=L.firstChild,y=sa.firstChild,q=L.lastChild,va=q.firstChild,nb=va.firstChild,T=nb.firstChild,Ya=T.firstChild,B=T.nextSibling.firstChild,wa=B.firstChild,aa=wa.nextSibling,Rb=aa.nextSibling,pb=Rb.nextSibling,da=pb.nextSibling,w=sa.nextSibling,Qc=w.firstChild;xc();yc();$b&&(y.style.width="0px");ac||(q.draggable=!0);B.style.outline="none";null!=l.tabindex&&(y.tabIndex=l.tabindex);l.autofocus&&D();!l.gutter&&!l.lineNumbers&&(T.style.display="none");bc&&(sa.style.height=
"1px",sa.style.position="absolute");if(Vc){var Kc=w,Wc=Kc.className,Ma=document.createElement("div"),cc=document.createElement("div");Ma.className="CodeMirror-scrollbar";Ma.style.cssText="position: absolute; left: -9999px; height: 100px;";cc.className="CodeMirror-scrollbar-inner";cc.style.height="200px";Ma.appendChild(cc);document.body.appendChild(Ma);var Xc=1>=Ma.offsetWidth;document.body.removeChild(Ma);Kc.className=Wc+(Xc?" cm-sb-overlap":" cm-sb-nonoverlap")}else Yc&&(w.className+=" cm-sb-ie7");
try{Ub("x")}catch(dc){throw dc.message.match(/runtime/i)&&(dc=Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),dc;}var Jb=new ec,Uc=new ec,Gb,G,r=new xb([new yb([new qa("")])]),ka,fa;vc();var j={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},ea,zb,$a,db=0,ic=0,eb,ob=!1,gb=!1,na,qb,ha,Ka,ta,Ra,ja,Ta,Xa=0,J=0,$=0,tc=0,pa,ga="",Va=!1,Ua=!0,wc={};n(function(){g(l.value||"");na=!1})();var X=new fc;m(q,"mousedown",n(function(a){function b(a){var f=Ha(a,
!0);if(f&&!z(f,g)){fa||P();g=f;oa(e,f);na=!1;var c=Ga();if(f.line>=c.to||f.line<c.from)h=setTimeout(n(function(){b(a)}),150)}}function c(a){clearTimeout(h);var b=Ha(a);b&&oa(e,b);F(a);D();na=!0;N();r()}cb(E(a,"shiftKey"));for(var d=a.target||a.srcElement;d!=L;d=d.parentNode)if(d.parentNode==va&&d!=nb)return;for(d=a.target||a.srcElement;d!=L;d=d.parentNode)if(d.parentNode==Ya){if(l.onGutterClick)l.onGutterClick(C,ab(Ya.childNodes,d)+J,a);return F(a)}var e=Ha(a);switch(Lc(a)){case 3:Qa&&!Fb&&Fc(a);
return;case 2:e&&ua(e.line,e.ch,!0);setTimeout(D,20);F(a);return}if(e)if(fa||P(),d=+new Date,$a&&$a.time>d-400&&z($a.pos,e))F(a),setTimeout(D,20),d=e.line,oa({line:d,ch:0},A({line:d+1,ch:0}));else{if(zb&&zb.time>d-400&&z(zb.pos,e))return $a={time:d,pos:e},F(a),uc(e);zb={time:d,pos:e};var g=e,h;if(l.dragDrop&&gc&&!l.readOnly&&!z(j.from,j.to)&&!S(e,j.from)&&!S(j.to,e)){ac&&(q.draggable=!0);var d=function(b){ac&&(q.draggable=!1);eb=!1;r();p();10>Math.abs(a.clientX-b.clientX)+Math.abs(a.clientY-b.clientY)&&
(F(b),ua(e.line,e.ch,!0),D())},r=m(document,"mouseup",n(d),!0),p=m(q,"drop",n(d),!0);eb=!0;q.dragDrop&&q.dragDrop()}else{F(a);ua(e.line,e.ch,!0);var N=m(document,"mousemove",n(function(a){clearTimeout(h);F(a);!Ca&&!Lc(a)?c(a):b(a)}),!0),r=m(document,"mouseup",n(c),!0)}}else(a.target||a.srcElement)==q&&F(a)}));m(q,"dblclick",n(function(a){for(var b=a.target||a.srcElement;b!=L;b=b.parentNode)if(b.parentNode==Ya)return F(a);if(b=Ha(a))$a={time:+new Date,pos:b},F(a),uc(b)}));m(B,"selectstart",F);Qa||
m(q,"contextmenu",Fc);m(q,"scroll",h);m(w,"scroll",h);m(w,"mousedown",function(){setTimeout(D,0)});m(q,"mousewheel",oc);m(q,"DOMMouseScroll",oc);m(window,"resize",function(){za(!0)});m(y,"keyup",n(function(a){if(!l.onKeyEvent||!l.onKeyEvent(C,Pa(a)))16==E(a,"keyCode")&&(ea=null)}));m(y,"input",H);m(y,"keydown",n(ia));m(y,"keypress",n(function(a){Ia&&jb();if(!l.onKeyEvent||!l.onKeyEvent(C,Pa(a))){var b=E(a,"keyCode"),c=E(a,"charCode");if(Aa&&b==Eb)Eb=null,F(a);else if(!(Aa&&(!a.which||10>a.which)||
bc)||!mc(a)){b=String.fromCharCode(null==c?b:c);l.electricChars&&G.electricChars&&l.smartIndent&&!l.readOnly&&-1<G.electricChars.indexOf(b)&&setTimeout(n(function(){ub(j.to.line,"smart")}),75);if(b=hb("'"+b+"'",l.extraKeys,l.keyMap,function(a){return t(a,!0)}))F(a),ib();b||H()}}}));m(y,"focus",P);m(y,"blur",Q);if(l.dragDrop){m(q,"dragstart",I);var Mc=function(a){(!l.onDragEvent||!l.onDragEvent(C,Pa(a)))&&Sa(a)};m(q,"dragenter",Mc);m(q,"dragover",Mc);m(q,"drop",n(N))}m(q,"paste",function(){D();H()});
m(y,"paste",H);m(y,"cut",n(function(){l.readOnly||ca("")}));bc&&m(va,"mouseup",function(){document.activeElement==y&&y.blur();D()});var Nc;try{Nc=document.activeElement==y}catch(Zc){}Nc||l.autofocus?setTimeout(P,20):Q();var C=L.CodeMirror={getValue:function(){var a=[];r.iter(0,r.size,function(b){a.push(b.text)});return a.join("\n")},setValue:n(g),getSelection:fb,replaceSelection:n(ca),focus:function(){window.focus();D();P();H()},setOption:function(a,b){var c=l[a];l[a]=b;"mode"==a||"indentUnit"==a?
vc():"readOnly"==a&&"nocursor"==b?(Q(),y.blur()):"readOnly"==a&&!b?kb(!0):"theme"==a?xc():"lineWrapping"==a&&c!=b?n(hc)():"tabSize"==a?za(!0):"keyMap"==a&&yc();if("lineNumbers"==a||"gutter"==a||"firstLineNumber"==a||"theme"==a)c=l.gutter||l.lineNumbers,T.style.display=c?"":"none",c?ja=!0:da.parentNode.style.marginLeft=0,za(!0)},getOption:function(a){return l[a]},undo:n(function(){R(X.done,X.undone)}),redo:n(function(){R(X.undone,X.done)}),indentLine:n(function(a,b){"string"!=typeof b&&(b=null==b?
l.smartIndent?"smart":"prev":b?"add":"subtract");c(a)&&ub(a,b)}),indentSelection:n(function(a){if(z(j.from,j.to))return ub(j.from.line,a);for(var b=j.to.line-(j.to.ch?0:1),c=j.from.line;c<=b;++c)ub(c,a)}),historySize:function(){return{undo:X.done.length,redo:X.undone.length}},clearHistory:function(){X=new fc},matchBrackets:n(function(){Hc(!0)}),getTokenAt:n(function(a){a=A(a);return d(a.line).getTokenAt(G,mb(a.line),a.ch)}),getStateAfter:function(a){a=tb(null==a?r.size-1:a);return mb(a+1)},cursorCoords:function(a,
b){null==a&&(a=j.inverted);return this.charCoords(a?j.from:j.to,b)},charCoords:function(a,b){a=A(a);if("local"==b)return ma(a,!1);if("div"==b)return ma(a,!0);var c=ma(a,!0),d=Da(B);return{x:d.left+c.x,y:d.top+c.y,yBot:d.top+c.yBot}},coordsChar:function(a){var b=Da(B);return Vb(a.x-b.left,a.y-b.top)},markText:n(Tb),setBookmark:function(a){a=A(a);var b=new Oc(a.ch);d(a.line).addMark(b);return b},findMarksAt:function(a){a=A(a);var b=[],c=d(a.line).marked;if(!c)return b;for(var e=0,g=c.length;e<g;++e){var h=
c[e];if((null==h.from||h.from<=a.ch)&&(null==h.to||h.to>=a.ch))b.push(h.marker||h)}return b},setMarker:n(function(a,b,c){"number"==typeof a&&(a=d(tb(a)));a.gutterMarker={text:b,style:c};ja=!0;return a}),clearMarker:n(function(a){"number"==typeof a&&(a=d(tb(a)));a.gutterMarker=null;ja=!0}),setLineClass:n(function(a,b,c){return zc(a,function(a){if(a.className!=b||a.bgClassName!=c)return a.className=b,a.bgClassName=c,!0})}),hideLine:n(function(a){return Ob(a,!0)}),showLine:n(function(a){return Ob(a,
!1)}),onDeleteLine:function(a,b){if("number"==typeof a){if(!c(a))return null;a=d(a)}(a.handlers||(a.handlers=[])).push(b);return a},lineInfo:function(a){if("number"==typeof a){if(!c(a))return null;var b=a;a=d(a);if(!a)return null}else if(b=La(a),null==b)return null;var e=a.gutterMarker;return{line:b,handle:a,text:a.text,markerText:e&&e.text,markerClass:e&&e.style,lineClass:a.className,bgClass:a.bgClassName}},addWidget:function(a,b,c,d,e){a=ma(A(a));var g=a.yBot,h=a.x;b.style.position="absolute";va.appendChild(b);
if("over"==d)g=a.y;else if("near"==d){d=Math.max(q.offsetHeight,r.height*ra());var j=Math.max(va.clientWidth,B.clientWidth)-B.offsetLeft;a.yBot+b.offsetHeight>d&&a.y>b.offsetHeight&&(g=a.y-b.offsetHeight);h+b.offsetWidth>j&&(h=j-b.offsetWidth)}b.style.top=g+B.offsetTop+"px";b.style.left=b.style.right="";"right"==e?(h=va.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(va.clientWidth-b.offsetWidth)/2),b.style.left=h+B.offsetLeft+"px");c&&ya(h,g,h+b.offsetWidth,g+b.offsetHeight)},
lineCount:function(){return r.size},clipPos:A,getCursor:function(a){null==a&&(a=j.inverted);return{line:(a?j.from:j.to).line,ch:(a?j.from:j.to).ch}},somethingSelected:function(){return!z(j.from,j.to)},setCursor:n(function(a,b,c){null==b&&"number"==typeof a.line?ua(a.line,a.ch,c):ua(a,b,c)}),setSelection:n(function(a,b,c){(c?oa:Wa)(A(a),A(b||a))}),getLine:function(a){if(c(a))return d(a).text},getLineHandle:function(a){if(c(a))return d(a)},setLine:n(function(a,b){c(a)&&O(b,{line:a,ch:0},{line:a,ch:d(a).text.length})}),
removeLine:n(function(a){c(a)&&O("",{line:a,ch:0},A({line:a+1,ch:0}))}),replaceRange:n(O),getRange:function(a,b){return pc(A(a),A(b))},triggerOnKeyDown:n(ia),execCommand:function(a){return lc[a](C)},moveH:n(function(a,b){var c=0>a?j.from:j.to;if(ea||z(j.from,j.to))c=Pb(a,b);ua(c.line,c.ch,!0)}),deleteH:n(function(a,b){z(j.from,j.to)?0>a?O("",Pb(a,b),j.to):O("",j.from,Pb(a,b)):O("",j.from,j.to);qb=!0}),moveV:n(function(a,b){var c=0,d=ma(j.inverted?j.from:j.to,!0);null!=rb&&(d.x=rb);"page"==b?c=Math.min(q.clientHeight,
window.innerHeight||document.documentElement.clientHeight):"line"==b&&(c=ra());c=Vb(d.x,d.y+c*a+2);"page"==b&&(w.scrollTop+=ma(c,!0).y-d.y);ua(c.line,c.ch,!0);rb=d.x}),toggleOverwrite:function(){ob?(ob=!1,aa.className=aa.className.replace(" CodeMirror-overwrite","")):(ob=!0,aa.className+=" CodeMirror-overwrite")},posFromIndex:function(a){var b=0,c;r.iter(0,r.size,function(d){d=d.text.length+1;if(d>a)return c=a,!0;a-=d;++b});return A({line:b,ch:c})},indexFromPos:function(a){if(0>a.line||0>a.ch)return 0;
var b=a.ch;r.iter(0,a.line,function(a){b+=a.text.length+1});return b},scrollTo:function(a,b){null!=a&&(q.scrollLeft=a);null!=b&&(w.scrollTop=b);za([])},getScrollInfo:function(){return{x:q.scrollLeft,y:w.scrollTop,height:w.scrollHeight,width:q.scrollWidth}},operation:function(a){return n(a)()},compoundChange:function(a){return jc(a)},refresh:function(){za(!0);w.scrollHeight>db&&(w.scrollTop=db)},getInputField:function(){return y},getWrapperElement:function(){return L},getScrollerElement:function(){return q},
getGutterElement:function(){return T}},Eb=null,nc,Ia=!1,la="",rb=null;Sb.prototype.clear=n(function(){for(var a=Infinity,b=-Infinity,c=0,d=this.set.length;c<d;++c){var e=this.set[c],g=e.marked;if(g&&e.parent){e=La(e);a=Math.min(a,e);b=Math.max(b,e);for(e=0;e<g.length;++e)g[e].marker==this&&g.splice(e--,1)}}Infinity!=a&&ha.push({from:a,to:b+1})});Sb.prototype.find=function(){for(var a,b,c=0,d=this.set.length;c<d;++c)for(var e=this.set[c],g=e.marked,h=0;h<g.length;++h){var j=g[h];if(j.marker==this&&
(null!=j.from||null!=j.to)){var l=La(e);null!=l&&(null!=j.from&&(a={line:l,ch:j.from}),null!=j.to&&(b={line:l,ch:j.to}))}}return{from:a,to:b}};var Bc="CodeMirror-temp-"+Math.floor(16777215*Math.random()).toString(16),Wb,Cc,Ea,Ec,Dc=0,Xb={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Jc=0,bb;for(bb in Ab)Ab.propertyIsEnumerable(bb)&&!C.propertyIsEnumerable(bb)&&(C[bb]=Ab[bb]);return C}function Db(a){return"string"==typeof a?W[a]:a}function hb(a,b,c,d,e){function g(b){b=Db(b);var c=b[a];if(null!=
c&&d(c))return!0;if(b.nofallthrough)return e&&e(),!0;b=b.fallthrough;if(null==b)return!1;if("[object Array]"!=Object.prototype.toString.call(b))return g(b);for(var c=0,m=b.length;c<m;++c)if(g(b[c]))return!0;return!1}return b&&g(b)?!0:g(c)}function Ja(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);var c={},d;for(d in b){var e=b[d];e instanceof Array&&(e=e.concat([]));c[d]=e}return c}function Yb(a,b,c){return a.startState?a.startState(b,c):!0}function Fa(a,b){this.pos=this.start=0;this.string=
a;this.tabSize=b||8}function vb(a,b,c,d){this.from=a;this.to=b;this.style=c;this.marker=d}function Oc(a){this.to=this.from=a;this.line=null}function qa(a,b){this.styles=b||[a,null];this.text=a;this.height=1;this.stateAfter=this.parent=this.hidden=this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null}function Ga(a,b,c,d){for(var e=0,g=0,h=0;g<b;e+=2){var m=c[e],p=g+m.length;0==h?(p>a&&d.push(m.slice(a-g,Math.min(m.length,b-g)),c[e+1]),p>=a&&(h=1)):1==h&&(p>b?d.push(m.slice(0,
b-g),c[e+1]):d.push(m,c[e+1]));g=p}}function yb(a){this.lines=a;this.parent=null;for(var b=0,c=a.length,d=0;b<c;++b)a[b].parent=this,d+=a[b].height;this.height=d}function xb(a){this.children=a;for(var b=0,c=0,d=0,e=a.length;d<e;++d){var g=a[d],b=b+g.chunkSize(),c=c+g.height;g.parent=this}this.size=b;this.height=c;this.parent=null}function La(a){if(null==a.parent)return null;var b=a.parent;a=ab(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var d=0;c.children[d]!=b;++d)a+=c.children[d].chunkSize();
return a}function Mb(a,b){var c=0;a:do{for(var d=0,e=a.children.length;d<e;++d){var g=a.children[d],h=g.height;if(b<h){a=g;continue a}b-=h;c+=g.chunkSize()}return c}while(!a.lines);d=0;for(e=a.lines.length;d<e;++d){g=a.lines[d].height;if(b<g)break;b-=g}return c+d}function Nb(a,b){var c=0;a:do{for(var d=0,e=a.children.length;d<e;++d){var g=a.children[d],h=g.chunkSize();if(b<h){a=g;continue a}b-=h;c+=g.height}return c}while(!a.lines);for(d=0;d<b;++d)c+=a.lines[d].height;return c}function fc(){this.time=
0;this.done=[];this.undone=[];this.compound=0;this.closed=!1}function hc(){Sa(this)}function Pa(a){a.stop||(a.stop=hc);return a}function F(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function cb(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Sa(a){F(a);cb(a)}function Lc(a){if(a.which)return a.which;if(a.button&1)return 1;if(a.button&2)return 3;if(a.button&4)return 2}function E(a,b){return a.override&&a.override.hasOwnProperty(b)?a.override[b]:a[b]}function m(a,b,c,
d){if("function"==typeof a.addEventListener){if(a.addEventListener(b,c,!1),d)return function(){a.removeEventListener(b,c,!1)}}else{var e=function(a){c(a||window.event)};a.attachEvent("on"+b,e);if(d)return function(){a.detachEvent("on"+b,e)}}}function ec(){this.id=null}function Na(a,b,c){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var d=0,e=0;d<b;++d)"\t"==a.charAt(d)?e+=c-e%c:++e;return e}function Da(a,b){for(var c=a.ownerDocument.body,d=0,e=0,g=!1,h=a;h;h=h.offsetParent){var m=h.offsetLeft,
p=h.offsetTop;h==c?(d+=Math.abs(m),e+=Math.abs(p)):(d+=m,e+=p);if(m=b)m=h.currentStyle?h.currentStyle:window.getComputedStyle(h,null),m="fixed"==m.position;m&&(g=!0)}c=b&&!g?null:c;for(h=a.parentNode;h!=c;h=h.parentNode)null!=h.scrollLeft&&(d-=h.scrollLeft,e-=h.scrollTop);return{left:d,top:e}}function qc(a){$b?(a.selectionStart=0,a.selectionEnd=a.value.length):a.select()}function z(a,b){return a.line==b.line&&a.ch==b.ch}function S(a,b){return a.line<b.line||a.line==b.line&&a.ch<b.ch}function ia(a){R.textContent=
a;return R.innerHTML}function ab(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;c<d;++c)if(a[c]==b)return c;return-1}function Qb(a){return/\w/.test(a)||a.toUpperCase()!=a.toLowerCase()}p.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,dragDrop:!0,
onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null};var $b=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Fb=$b||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var xa=p.modes={},ba=p.mimeModes={};p.defineMode=function(a,b){!p.defaults.mode&&"null"!=a&&(p.defaults.mode=
a);if(2<arguments.length){b.dependencies=[];for(var c=2;c<arguments.length;++c)b.dependencies.push(arguments[c])}xa[a]=b};p.defineMIME=function(a,b){ba[a]=b};p.resolveMode=function(a){if("string"==typeof a&&ba.hasOwnProperty(a))a=ba[a];else if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return p.resolveMode("application/xml");return"string"==typeof a?{name:a}:a||{name:"null"}};p.getMode=function(a,b){b=p.resolveMode(b);var c=xa[b.name];return!c?p.getMode(a,"text/plain"):c(a,b)};p.listModes=
function(){var a=[],b;for(b in xa)xa.propertyIsEnumerable(b)&&a.push(b);return a};p.listMIMEs=function(){var a=[],b;for(b in ba)ba.propertyIsEnumerable(b)&&a.push({mime:b,mode:ba[b]});return a};var Ab=p.extensions={};p.defineExtension=function(a,b){Ab[a]=b};var lc=p.commands={selectAll:function(a){a.setSelection({line:0,ch:0},{line:a.lineCount()-1})},killLine:function(a){var b=a.getCursor(!0),c=a.getCursor(!1),d=!z(b,c);!d&&a.getLine(b.line).length==b.ch?a.replaceRange("",b,{line:b.line+1,ch:0}):
a.replaceRange("",b,d?c:{line:b.line})},deleteLine:function(a){var b=a.getCursor().line;a.replaceRange("",{line:b,ch:0},{line:b})},undo:function(a){a.undo()},redo:function(a){a.redo()},goDocStart:function(a){a.setCursor(0,0,!0)},goDocEnd:function(a){a.setSelection({line:a.lineCount()-1},null,!0)},goLineStart:function(a){a.setCursor(a.getCursor().line,0,!0)},goLineStartSmart:function(a){var b=a.getCursor(),c=a.getLine(b.line),c=Math.max(0,c.search(/\S/));a.setCursor(b.line,b.ch<=c&&b.ch?0:c,!0)},goLineEnd:function(a){a.setSelection({line:a.getCursor().line},
null,!0)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goWordRight:function(a){a.moveH(1,"word")},delCharLeft:function(a){a.deleteH(-1,"char")},delCharRight:function(a){a.deleteH(1,
"char")},delWordLeft:function(a){a.deleteH(-1,"word")},delWordRight:function(a){a.deleteH(1,"word")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t","end")},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.replaceSelection("\t","end")},transposeChars:function(a){var b=a.getCursor(),c=a.getLine(b.line);0<b.ch&&b.ch<c.length-1&&
a.replaceRange(c.charAt(b.ch)+c.charAt(b.ch-1),{line:b.line,ch:b.ch-1},{line:b.line,ch:b.ch+1})},newlineAndIndent:function(a){a.replaceSelection("\n","end");a.indentLine(a.getCursor().line)},toggleOverwrite:function(a){a.toggleOverwrite()}},W=p.keyMap={};W.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",
Enter:"newlineAndIndent",Insert:"toggleOverwrite"};W.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace",
"Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};W.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext",
"Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};W["default"]=Fb?W.macDefault:W.pcDefault;W.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft",
"Ctrl-K":"killLine","Ctrl-T":"transposeChars"};p.fromTextArea=function(a,b){function c(){a.value=h.getValue()}b||(b={});b.value=a.value;!b.tabindex&&a.tabindex&&(b.tabindex=a.tabindex);null==b.autofocus&&null!=a.getAttribute("autofocus")&&(b.autofocus=!0);if(a.form){var d=m(a.form,"submit",c,!0);if("function"==typeof a.form.submit){var e=a.form.submit,g=function(){c();a.form.submit=e;a.form.submit();a.form.submit=g};a.form.submit=g}}a.style.display="none";var h=p(function(b){a.parentNode.insertBefore(b,
a.nextSibling)},b);h.save=c;h.getTextArea=function(){return a};h.toTextArea=function(){c();a.parentNode.removeChild(h.getWrapperElement());a.style.display="";a.form&&(d(),"function"==typeof a.form.submit&&(a.form.submit=e))};return h};p.copyState=Ja;p.startState=Yb;Fa.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return 0==this.pos},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},
eat:function(a){var b=this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){return Na(this.string,
this.start,this.tabSize)},indentation:function(){return Na(this.string,null,this.tabSize)},match:function(a,b,c){if("string"==typeof a){if((c?this.string.toLowerCase():this.string).indexOf(c?a.toLowerCase():a,this.pos)==this.pos)return!1!==b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&!1!==b)this.pos+=a[0].length;return a}},current:function(){return this.string.slice(this.start,this.pos)}};p.StringStream=Fa;vb.prototype={attach:function(a){this.marker.set.push(a)},detach:function(a){a=
ab(this.marker.set,a);-1<a&&this.marker.set.splice(a,1)},split:function(a,b){return this.to<=a&&null!=this.to?null:new vb(this.from<a||null==this.from?null:this.from-a+b,null==this.to?null:this.to-a+b,this.style,this.marker)},dup:function(){return new vb(null,null,this.style,this.marker)},clipTo:function(a,b,c,d,e){a&&d>this.from&&(d<this.to||null==this.to)?this.from=null:null!=this.from&&this.from>=b&&(this.from=Math.max(d,this.from)+e);c&&(b<this.to||null==this.to)&&(b>this.from||null==this.from)?
this.to=null:null!=this.to&&this.to>b&&(this.to=d<this.to?this.to+e:b)},isDead:function(){return null!=this.from&&null!=this.to&&this.from>=this.to},sameSet:function(a){return this.marker==a.marker}};Oc.prototype={attach:function(a){this.line=a},detach:function(a){this.line==a&&(this.line=null)},split:function(a,b){if(a<this.from)return this.from=this.to=this.from-a+b,this},isDead:function(){return this.from>this.to},clipTo:function(a,b,c,d,e){(a||b<this.from)&&(c||d>this.to)?(this.from=0,this.to=
-1):this.from>b&&(this.from=this.to=Math.max(d,this.from)+e)},sameSet:function(){return!1},find:function(){return!this.line||!this.line.parent?null:{line:La(this.line),ch:this.from}},clear:function(){if(this.line){var a=ab(this.line.marked,this);-1!=a&&this.line.marked.splice(a,1);this.line=null}}};qa.inheritMarks=function(a,b){var c=new qa(a),d=b&&b.marked;if(d)for(var e=0;e<d.length;++e)if(null==d[e].to&&d[e].style){var g=c.marked||(c.marked=[]),h=d[e].dup();g.push(h);h.attach(c)}return c};qa.prototype=
{replace:function(a,b,c){var d=[],e=this.marked,g=null==b?this.text.length:b;Ga(0,a,this.styles,d);c&&d.push(c,null);Ga(g,this.text.length,this.styles,d);this.styles=d;this.text=this.text.slice(0,a)+c+this.text.slice(g);this.stateAfter=null;if(e){c=c.length-(g-a);for(d=0;d<e.length;++d){var h=e[d];h.clipTo(null==a,a||0,null==b,g,c);h.isDead()&&(h.detach(this),e.splice(d--,1))}}},split:function(a,b){var c=[b,null],d=this.marked;Ga(a,this.text.length,this.styles,c);c=new qa(b+this.text.slice(a),c);
if(d)for(var e=0;e<d.length;++e){var g=d[e],h=g.split(a,b.length);h&&(c.marked||(c.marked=[]),c.marked.push(h),h.attach(c),h==g&&d.splice(e--,1))}return c},append:function(a){var b=this.text.length,c=a.marked,d=this.marked;this.text+=a.text;Ga(0,a.text.length,a.styles,this.styles);if(d)for(a=0;a<d.length;++a)null==d[a].to&&(d[a].to=b);if(c&&c.length){d||(this.marked=d=[]);a=0;a:for(;a<c.length;++a){var e=c[a];if(!e.from)for(var g=0;g<d.length;++g){var h=d[g];if(h.to==b&&h.sameSet(e)){h.to=null==e.to?
null:e.to+b;h.isDead()&&(h.detach(this),c.splice(a--,1));continue a}}d.push(e);e.attach(this);e.from+=b;null!=e.to&&(e.to+=b)}}},fixMarkEnds:function(a){var b=this.marked;a=a.marked;if(b)for(var c=0;c<b.length;++c){var d=b[c],e=null==d.to;if(e&&a)for(var g=0;g<a.length;++g)if(a[g].sameSet(d)){e=!1;break}e&&(d.to=this.text.length)}},fixMarkStarts:function(){var a=this.marked;if(a)for(var b=0;b<a.length;++b)null==a[b].from&&(a[b].from=0)},addMark:function(a){a.attach(this);null==this.marked&&(this.marked=
[]);this.marked.push(a);this.marked.sort(function(a,c){return(a.from||0)-(c.from||0)})},highlight:function(a,b,c){c=new Fa(this.text,c);var d=this.styles,e=0,g=!1,h=d[0],m;for(""==this.text&&a.blankLine&&a.blankLine(b);!c.eol();){var p=a.token(c,b),t=this.text.slice(c.start,c.pos);c.start=c.pos;if(e&&d[e-1]==p)d[e-2]+=t;else if(t){if(!g&&(d[e+1]!=p||e&&d[e-2]!=m))g=!0;d[e++]=t;d[e++]=p;m=h;h=d[e]}if(5E3<c.pos){d[e++]=this.text.slice(c.pos);d[e++]=null;break}}d.length!=e&&(d.length=e,g=!0);e&&d[e-
2]!=m&&(g=!0);return g||(5>d.length&&10>this.text.length?null:!1)},getTokenAt:function(a,b,c){for(var d=new Fa(this.text);d.pos<c&&!d.eol();){d.start=d.pos;var e=a.token(d,b)}return{start:d.start,end:d.pos,string:d.current(),className:e||null,state:b}},indentation:function(a){return Na(this.text,null,a)},getHTML:function(a,b,c,d){function e(b,c){if(b){m&&(Ca&&" "==b.charAt(0))&&(b="\u00a0"+b.slice(1));m=!1;if(-1==b.indexOf("\t")){p+=b.length;var d=ia(b)}else for(var d="",e=0;;){var g=b.indexOf("\t",
e);if(-1==g){d+=ia(b.slice(e));p+=b.length-e;break}else{p+=g-e;var t=a(p),d=d+(ia(b.slice(e,g))+t.html);p+=t.width;e=g+1}}c?h.push('<span class="',c,'">',d,"</span>"):h.push(d)}}function g(a){return!a?null:"cm-"+a.replace(/ +/g," cm-")}var h=[],m=!0,p=0,t=e;if(null!=b)var z=0,F='<span id="'+c+'">',t=function(a,c){var g=a.length;if(b>=z&&b<z+g){b>z&&(e(a.slice(0,b-z),c),d&&h.push("<wbr>"));h.push(F);var m=b-z;e(Aa?a.slice(m,m+1):a.slice(m),c);h.push("</span>");Aa&&e(a.slice(m+1),c);b--;z+=g}else z+=
g,e(a,c),z==b&&z==E?h.push(F+" </span>"):z>b+10&&/\s/.test(a)&&(t=function(){})};c=this.styles;var P=this.text,Q=this.marked,E=P.length;if(!P&&null==b)t(" ");else if(!Q||!Q.length)for(Q=P=0;Q<E;P+=2){var M=c[P],S=c[P+1],Y=M.length;Q+Y>E&&(M=M.slice(0,E-Q));Q+=Y;t(M,g(S))}else for(var P=M=0,Y="",V=Q[0].from||0,O=[],ca=0;M<E;){if(V==M){for(V=void 0;ca<Q.length&&((V=Q[ca]).from==M||null==V.from);)null!=V.style&&O.push(V),++ca;for(var V=ca<Q.length?Q[ca].from:Infinity,Z=0;Z<O.length;++Z){var R=O[Z].to||
Infinity;R==M?O.splice(Z--,1):V=Math.min(R,V)}}for(Z=Math.min(E,V);;){if(Y){for(var R=M+Y.length,W=S,ba=0;ba<O.length;++ba)W=(W?W+" ":"")+O[ba].style;t(R>Z?Y.slice(0,Z-M):Y,W);if(R>=Z){Y=Y.slice(Z-M);M=Z;break}M=R}Y=c[P++];S=g(c[P++])}}return h.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var a=0,b=this.marked.length;a<b;++a)this.marked[a].detach(this)}};yb.prototype={chunkSize:function(){return this.lines.length},remove:function(a,b,c){for(var d=a,e=a+b;d<e;++d){var g=this.lines[d];
this.height-=g.height;g.cleanUp();if(g.handlers)for(var h=0;h<g.handlers.length;++h)c.push(g.handlers[h])}this.lines.splice(a,b)},collapse:function(a){a.splice.apply(a,[a.length,0].concat(this.lines))},insertHeight:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));a=0;for(c=b.length;a<c;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};xb.prototype={chunkSize:function(){return this.size},remove:function(a,
b,c){this.size-=b;for(var d=0;d<this.children.length;++d){var e=this.children[d],g=e.chunkSize();if(a<g){var h=Math.min(b,g-a),m=e.height;e.remove(a,h,c);this.height-=m-e.height;g==h&&(this.children.splice(d--,1),e.parent=null);if(0==(b-=h))break;a=0}else a-=g}25>this.size-b&&(a=[],this.collapse(a),this.children=[new yb(a)],this.children[0].parent=this)},collapse:function(a){for(var b=0,c=this.children.length;b<c;++b)this.children[b].collapse(a)},insert:function(a,b){for(var c=0,d=0,e=b.length;d<
e;++d)c+=b[d].height;this.insertHeight(a,b,c)},insertHeight:function(a,b,c){this.size+=b.length;this.height+=c;for(var d=0,e=this.children.length;d<e;++d){var g=this.children[d],h=g.chunkSize();if(a<=h){g.insertHeight(a,b,c);if(g.lines&&50<g.lines.length){for(;50<g.lines.length;)a=g.lines.splice(g.lines.length-25,25),a=new yb(a),g.height-=a.height,this.children.splice(d+1,0,a),a.parent=this;this.maybeSpill()}break}a-=h}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=a.children.splice(a.children.length-
5,5),b=new xb(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=ab(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new xb(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iter:function(a,b,c){this.iterN(a,b-a,c)},iterN:function(a,b,c){for(var d=0,e=this.children.length;d<e;++d){var g=this.children[d],h=g.chunkSize();if(a<h){h=Math.min(b,h-a);if(g.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=h}}};fc.prototype=
{addChange:function(a,b,c){this.undone.length=0;var d=+new Date,e=this.done[this.done.length-1],g=e&&e[e.length-1],h=d-this.time;if(this.compound&&e&&!this.closed)e.push({start:a,added:b,old:c});else if(400<h||!g||this.closed||g.start>a+c.length||g.start+g.added<a)this.done.push([{start:a,added:b,old:c}]),this.closed=!1;else{for(var e=Math.max(0,g.start-a),h=Math.max(0,a+c.length-(g.start+g.added)),m=e;0<m;--m)g.old.unshift(c[m-1]);for(m=h;0<m;--m)g.old.push(c[c.length-m]);e&&(g.start=a);g.added+=
b-(c.length-e-h)}this.time=d},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}};p.e_stop=Sa;p.e_preventDefault=F;p.e_stopPropagation=cb;p.connect=m;ec.prototype={set:function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)}};var Cb=p.Pass={toString:function(){return"CodeMirror.Pass"}},Qa=/gecko\/\d{7}/i.test(navigator.userAgent),Ca=/MSIE \d/.test(navigator.userAgent),Yc=/MSIE [1-7]\b/.test(navigator.userAgent),Gc=/MSIE [1-8]\b/.test(navigator.userAgent),
Sc=Ca&&5==document.documentMode,ac=/WebKit\//.test(navigator.userAgent),kc=/Chrome\//.test(navigator.userAgent),Aa=/Opera\//.test(navigator.userAgent),t=/Apple Computer/.test(navigator.vendor),bc=/KHTML\//.test(navigator.userAgent),Vc=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent),gc;if(Gc)gc=!1;else{var ya=document.createElement("div");gc="draggable"in ya||"dragDrop"in ya}ya=document.createElement("textarea");ya.value="foo\nbar";ya.value.indexOf("\r");var wb=/^$/;Qa?wb=/$'/:t?wb=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:
kc&&(wb=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/);null!=document.documentElement.getBoundingClientRect&&(Da=function(a,b){try{var c=a.getBoundingClientRect(),c={top:c.top,left:c.left}}catch(d){c={top:0,left:0}}if(!b)if(null==window.pageYOffset){var e=document.documentElement||document.body.parentNode;null==e.scrollTop&&(e=document.body);c.top+=e.scrollTop;c.left+=e.scrollLeft}else c.top+=window.pageYOffset,c.left+=window.pageXOffset;return c});var R=document.createElement("pre");
"\na"==ia("a")?ia=function(a){R.textContent=a;return R.innerHTML.slice(1)}:"\t"!=ia("\t")&&(ia=function(a){R.innerHTML="";R.appendChild(document.createTextNode(a));return R.innerHTML});p.htmlEscape=ia;var Oa=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c,d=[];-1<(c=a.indexOf("\n",b));)d.push(a.slice(b,"\r"==a.charAt(c-1)?c-1:c)),b=c+1;d.push(a.slice(b));return d}:function(a){return a.split(/\r?\n/)};p.splitLines=Oa;var Rc=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:
function(a){try{var b=a.ownerDocument.selection.createRange()}catch(c){}return!b||b.parentElement()!=a?!1:0!=b.compareEndPoints("StartToEnd",b)};p.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});p.defineMIME("text/plain","null");var Ba={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",
59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};p.keyNames=Ba;for(t=0;10>t;t++)Ba[t+48]=String(t);for(t=65;90>=t;t++)Ba[t]=String.fromCharCode(t);for(t=1;12>=t;t++)Ba[t+111]=Ba[t+63235]="F"+t;return p}();